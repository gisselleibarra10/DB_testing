// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension Wafv2ClientTypes.RateBasedStatement: Swift.Codable {
    enum CodingKeys: Swift.String, Swift.CodingKey {
        case aggregateKeyType = "AggregateKeyType"
        case forwardedIPConfig = "ForwardedIPConfig"
        case limit = "Limit"
        case scopeDownStatement = "ScopeDownStatement"
    }

    public func encode(to encoder: Swift.Encoder) throws {
        var encodeContainer = encoder.container(keyedBy: CodingKeys.self)
        if let aggregateKeyType = self.aggregateKeyType {
            try encodeContainer.encode(aggregateKeyType.rawValue, forKey: .aggregateKeyType)
        }
        if let forwardedIPConfig = self.forwardedIPConfig {
            try encodeContainer.encode(forwardedIPConfig, forKey: .forwardedIPConfig)
        }
        if limit != 0 {
            try encodeContainer.encode(limit, forKey: .limit)
        }
        if let scopeDownStatement = self.scopeDownStatement {
            try encodeContainer.encode(scopeDownStatement.value, forKey: .scopeDownStatement)
        }
    }

    public init (from decoder: Swift.Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let limitDecoded = try containerValues.decodeIfPresent(Swift.Int.self, forKey: .limit) ?? 0
        limit = limitDecoded
        let aggregateKeyTypeDecoded = try containerValues.decodeIfPresent(Wafv2ClientTypes.RateBasedStatementAggregateKeyType.self, forKey: .aggregateKeyType)
        aggregateKeyType = aggregateKeyTypeDecoded
        let scopeDownStatementDecoded = try containerValues.decodeIfPresent(Box<Wafv2ClientTypes.Statement>.self, forKey: .scopeDownStatement)
        scopeDownStatement = scopeDownStatementDecoded
        let forwardedIPConfigDecoded = try containerValues.decodeIfPresent(Wafv2ClientTypes.ForwardedIPConfig.self, forKey: .forwardedIPConfig)
        forwardedIPConfig = forwardedIPConfigDecoded
    }
}
