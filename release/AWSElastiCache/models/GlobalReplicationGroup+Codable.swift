// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension ElastiCacheClientTypes.GlobalReplicationGroup: Swift.Codable {
    enum CodingKeys: Swift.String, Swift.CodingKey {
        case aRN = "ARN"
        case atRestEncryptionEnabled = "AtRestEncryptionEnabled"
        case authTokenEnabled = "AuthTokenEnabled"
        case cacheNodeType = "CacheNodeType"
        case clusterEnabled = "ClusterEnabled"
        case engine = "Engine"
        case engineVersion = "EngineVersion"
        case globalNodeGroups = "GlobalNodeGroups"
        case globalReplicationGroupDescription = "GlobalReplicationGroupDescription"
        case globalReplicationGroupId = "GlobalReplicationGroupId"
        case members = "Members"
        case status = "Status"
        case transitEncryptionEnabled = "TransitEncryptionEnabled"
    }

    public func encode(to encoder: Swift.Encoder) throws {
        var container = encoder.container(keyedBy: ClientRuntime.Key.self)
        if let aRN = aRN {
            try container.encode(aRN, forKey: ClientRuntime.Key("ARN"))
        }
        if let atRestEncryptionEnabled = atRestEncryptionEnabled {
            try container.encode(atRestEncryptionEnabled, forKey: ClientRuntime.Key("AtRestEncryptionEnabled"))
        }
        if let authTokenEnabled = authTokenEnabled {
            try container.encode(authTokenEnabled, forKey: ClientRuntime.Key("AuthTokenEnabled"))
        }
        if let cacheNodeType = cacheNodeType {
            try container.encode(cacheNodeType, forKey: ClientRuntime.Key("CacheNodeType"))
        }
        if let clusterEnabled = clusterEnabled {
            try container.encode(clusterEnabled, forKey: ClientRuntime.Key("ClusterEnabled"))
        }
        if let engine = engine {
            try container.encode(engine, forKey: ClientRuntime.Key("Engine"))
        }
        if let engineVersion = engineVersion {
            try container.encode(engineVersion, forKey: ClientRuntime.Key("EngineVersion"))
        }
        if let globalNodeGroups = globalNodeGroups {
            var globalNodeGroupsContainer = container.nestedContainer(keyedBy: ClientRuntime.Key.self, forKey: ClientRuntime.Key("GlobalNodeGroups"))
            for (index0, globalnodegroup0) in globalNodeGroups.enumerated() {
                try globalNodeGroupsContainer.encode(globalnodegroup0, forKey: ClientRuntime.Key("GlobalNodeGroup.\(index0.advanced(by: 1))"))
            }
        }
        if let globalReplicationGroupDescription = globalReplicationGroupDescription {
            try container.encode(globalReplicationGroupDescription, forKey: ClientRuntime.Key("GlobalReplicationGroupDescription"))
        }
        if let globalReplicationGroupId = globalReplicationGroupId {
            try container.encode(globalReplicationGroupId, forKey: ClientRuntime.Key("GlobalReplicationGroupId"))
        }
        if let members = members {
            var membersContainer = container.nestedContainer(keyedBy: ClientRuntime.Key.self, forKey: ClientRuntime.Key("Members"))
            for (index0, globalreplicationgroupmember0) in members.enumerated() {
                try membersContainer.encode(globalreplicationgroupmember0, forKey: ClientRuntime.Key("GlobalReplicationGroupMember.\(index0.advanced(by: 1))"))
            }
        }
        if let status = status {
            try container.encode(status, forKey: ClientRuntime.Key("Status"))
        }
        if let transitEncryptionEnabled = transitEncryptionEnabled {
            try container.encode(transitEncryptionEnabled, forKey: ClientRuntime.Key("TransitEncryptionEnabled"))
        }
    }

    public init (from decoder: Swift.Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let globalReplicationGroupIdDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .globalReplicationGroupId)
        globalReplicationGroupId = globalReplicationGroupIdDecoded
        let globalReplicationGroupDescriptionDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .globalReplicationGroupDescription)
        globalReplicationGroupDescription = globalReplicationGroupDescriptionDecoded
        let statusDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .status)
        status = statusDecoded
        let cacheNodeTypeDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .cacheNodeType)
        cacheNodeType = cacheNodeTypeDecoded
        let engineDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .engine)
        engine = engineDecoded
        let engineVersionDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .engineVersion)
        engineVersion = engineVersionDecoded
        if containerValues.contains(.members) {
            struct KeyVal0{struct GlobalReplicationGroupMember{}}
            let membersWrappedContainer = containerValues.nestedContainerNonThrowable(keyedBy: CollectionMemberCodingKey<KeyVal0.GlobalReplicationGroupMember>.CodingKeys.self, forKey: .members)
            if let membersWrappedContainer = membersWrappedContainer {
                let membersContainer = try membersWrappedContainer.decodeIfPresent([ElastiCacheClientTypes.GlobalReplicationGroupMember].self, forKey: .member)
                var membersBuffer:[ElastiCacheClientTypes.GlobalReplicationGroupMember]? = nil
                if let membersContainer = membersContainer {
                    membersBuffer = [ElastiCacheClientTypes.GlobalReplicationGroupMember]()
                    for structureContainer0 in membersContainer {
                        membersBuffer?.append(structureContainer0)
                    }
                }
                members = membersBuffer
            } else {
                members = []
            }
        } else {
            members = nil
        }
        let clusterEnabledDecoded = try containerValues.decodeIfPresent(Swift.Bool.self, forKey: .clusterEnabled)
        clusterEnabled = clusterEnabledDecoded
        if containerValues.contains(.globalNodeGroups) {
            struct KeyVal0{struct GlobalNodeGroup{}}
            let globalNodeGroupsWrappedContainer = containerValues.nestedContainerNonThrowable(keyedBy: CollectionMemberCodingKey<KeyVal0.GlobalNodeGroup>.CodingKeys.self, forKey: .globalNodeGroups)
            if let globalNodeGroupsWrappedContainer = globalNodeGroupsWrappedContainer {
                let globalNodeGroupsContainer = try globalNodeGroupsWrappedContainer.decodeIfPresent([ElastiCacheClientTypes.GlobalNodeGroup].self, forKey: .member)
                var globalNodeGroupsBuffer:[ElastiCacheClientTypes.GlobalNodeGroup]? = nil
                if let globalNodeGroupsContainer = globalNodeGroupsContainer {
                    globalNodeGroupsBuffer = [ElastiCacheClientTypes.GlobalNodeGroup]()
                    for structureContainer0 in globalNodeGroupsContainer {
                        globalNodeGroupsBuffer?.append(structureContainer0)
                    }
                }
                globalNodeGroups = globalNodeGroupsBuffer
            } else {
                globalNodeGroups = []
            }
        } else {
            globalNodeGroups = nil
        }
        let authTokenEnabledDecoded = try containerValues.decodeIfPresent(Swift.Bool.self, forKey: .authTokenEnabled)
        authTokenEnabled = authTokenEnabledDecoded
        let transitEncryptionEnabledDecoded = try containerValues.decodeIfPresent(Swift.Bool.self, forKey: .transitEncryptionEnabled)
        transitEncryptionEnabled = transitEncryptionEnabledDecoded
        let atRestEncryptionEnabledDecoded = try containerValues.decodeIfPresent(Swift.Bool.self, forKey: .atRestEncryptionEnabled)
        atRestEncryptionEnabled = atRestEncryptionEnabledDecoded
        let aRNDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .aRN)
        aRN = aRNDecoded
    }
}
