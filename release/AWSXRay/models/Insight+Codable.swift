// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension XRayClientTypes.Insight: Swift.Codable {
    enum CodingKeys: Swift.String, Swift.CodingKey {
        case categories = "Categories"
        case clientRequestImpactStatistics = "ClientRequestImpactStatistics"
        case endTime = "EndTime"
        case groupARN = "GroupARN"
        case groupName = "GroupName"
        case insightId = "InsightId"
        case rootCauseServiceId = "RootCauseServiceId"
        case rootCauseServiceRequestImpactStatistics = "RootCauseServiceRequestImpactStatistics"
        case startTime = "StartTime"
        case state = "State"
        case summary = "Summary"
        case topAnomalousServices = "TopAnomalousServices"
    }

    public func encode(to encoder: Swift.Encoder) throws {
        var encodeContainer = encoder.container(keyedBy: CodingKeys.self)
        if let categories = categories {
            var categoriesContainer = encodeContainer.nestedUnkeyedContainer(forKey: .categories)
            for insightcategorylist0 in categories {
                try categoriesContainer.encode(insightcategorylist0.rawValue)
            }
        }
        if let clientRequestImpactStatistics = self.clientRequestImpactStatistics {
            try encodeContainer.encode(clientRequestImpactStatistics, forKey: .clientRequestImpactStatistics)
        }
        if let endTime = self.endTime {
            try encodeContainer.encode(endTime.timeIntervalSince1970, forKey: .endTime)
        }
        if let groupARN = self.groupARN {
            try encodeContainer.encode(groupARN, forKey: .groupARN)
        }
        if let groupName = self.groupName {
            try encodeContainer.encode(groupName, forKey: .groupName)
        }
        if let insightId = self.insightId {
            try encodeContainer.encode(insightId, forKey: .insightId)
        }
        if let rootCauseServiceId = self.rootCauseServiceId {
            try encodeContainer.encode(rootCauseServiceId, forKey: .rootCauseServiceId)
        }
        if let rootCauseServiceRequestImpactStatistics = self.rootCauseServiceRequestImpactStatistics {
            try encodeContainer.encode(rootCauseServiceRequestImpactStatistics, forKey: .rootCauseServiceRequestImpactStatistics)
        }
        if let startTime = self.startTime {
            try encodeContainer.encode(startTime.timeIntervalSince1970, forKey: .startTime)
        }
        if let state = self.state {
            try encodeContainer.encode(state.rawValue, forKey: .state)
        }
        if let summary = self.summary {
            try encodeContainer.encode(summary, forKey: .summary)
        }
        if let topAnomalousServices = topAnomalousServices {
            var topAnomalousServicesContainer = encodeContainer.nestedUnkeyedContainer(forKey: .topAnomalousServices)
            for anomalousservicelist0 in topAnomalousServices {
                try topAnomalousServicesContainer.encode(anomalousservicelist0)
            }
        }
    }

    public init (from decoder: Swift.Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let insightIdDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .insightId)
        insightId = insightIdDecoded
        let groupARNDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .groupARN)
        groupARN = groupARNDecoded
        let groupNameDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .groupName)
        groupName = groupNameDecoded
        let rootCauseServiceIdDecoded = try containerValues.decodeIfPresent(XRayClientTypes.ServiceId.self, forKey: .rootCauseServiceId)
        rootCauseServiceId = rootCauseServiceIdDecoded
        let categoriesContainer = try containerValues.decodeIfPresent([XRayClientTypes.InsightCategory?].self, forKey: .categories)
        var categoriesDecoded0:[XRayClientTypes.InsightCategory]? = nil
        if let categoriesContainer = categoriesContainer {
            categoriesDecoded0 = [XRayClientTypes.InsightCategory]()
            for string0 in categoriesContainer {
                if let string0 = string0 {
                    categoriesDecoded0?.append(string0)
                }
            }
        }
        categories = categoriesDecoded0
        let stateDecoded = try containerValues.decodeIfPresent(XRayClientTypes.InsightState.self, forKey: .state)
        state = stateDecoded
        let startTimeDecoded = try containerValues.decodeIfPresent(ClientRuntime.Date.self, forKey: .startTime)
        startTime = startTimeDecoded
        let endTimeDecoded = try containerValues.decodeIfPresent(ClientRuntime.Date.self, forKey: .endTime)
        endTime = endTimeDecoded
        let summaryDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .summary)
        summary = summaryDecoded
        let clientRequestImpactStatisticsDecoded = try containerValues.decodeIfPresent(XRayClientTypes.RequestImpactStatistics.self, forKey: .clientRequestImpactStatistics)
        clientRequestImpactStatistics = clientRequestImpactStatisticsDecoded
        let rootCauseServiceRequestImpactStatisticsDecoded = try containerValues.decodeIfPresent(XRayClientTypes.RequestImpactStatistics.self, forKey: .rootCauseServiceRequestImpactStatistics)
        rootCauseServiceRequestImpactStatistics = rootCauseServiceRequestImpactStatisticsDecoded
        let topAnomalousServicesContainer = try containerValues.decodeIfPresent([XRayClientTypes.AnomalousService?].self, forKey: .topAnomalousServices)
        var topAnomalousServicesDecoded0:[XRayClientTypes.AnomalousService]? = nil
        if let topAnomalousServicesContainer = topAnomalousServicesContainer {
            topAnomalousServicesDecoded0 = [XRayClientTypes.AnomalousService]()
            for structure0 in topAnomalousServicesContainer {
                if let structure0 = structure0 {
                    topAnomalousServicesDecoded0?.append(structure0)
                }
            }
        }
        topAnomalousServices = topAnomalousServicesDecoded0
    }
}
