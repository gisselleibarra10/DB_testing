// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension CodeBuildClientTypes.BuildPhase: Swift.Codable {
    enum CodingKeys: Swift.String, Swift.CodingKey {
        case contexts
        case durationInSeconds
        case endTime
        case phaseStatus
        case phaseType
        case startTime
    }

    public func encode(to encoder: Swift.Encoder) throws {
        var encodeContainer = encoder.container(keyedBy: CodingKeys.self)
        if let contexts = contexts {
            var contextsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .contexts)
            for phasecontexts0 in contexts {
                try contextsContainer.encode(phasecontexts0)
            }
        }
        if let durationInSeconds = self.durationInSeconds {
            try encodeContainer.encode(durationInSeconds, forKey: .durationInSeconds)
        }
        if let endTime = self.endTime {
            try encodeContainer.encode(endTime.timeIntervalSince1970, forKey: .endTime)
        }
        if let phaseStatus = self.phaseStatus {
            try encodeContainer.encode(phaseStatus.rawValue, forKey: .phaseStatus)
        }
        if let phaseType = self.phaseType {
            try encodeContainer.encode(phaseType.rawValue, forKey: .phaseType)
        }
        if let startTime = self.startTime {
            try encodeContainer.encode(startTime.timeIntervalSince1970, forKey: .startTime)
        }
    }

    public init (from decoder: Swift.Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let phaseTypeDecoded = try containerValues.decodeIfPresent(CodeBuildClientTypes.BuildPhaseType.self, forKey: .phaseType)
        phaseType = phaseTypeDecoded
        let phaseStatusDecoded = try containerValues.decodeIfPresent(CodeBuildClientTypes.StatusType.self, forKey: .phaseStatus)
        phaseStatus = phaseStatusDecoded
        let startTimeDecoded = try containerValues.decodeIfPresent(ClientRuntime.Date.self, forKey: .startTime)
        startTime = startTimeDecoded
        let endTimeDecoded = try containerValues.decodeIfPresent(ClientRuntime.Date.self, forKey: .endTime)
        endTime = endTimeDecoded
        let durationInSecondsDecoded = try containerValues.decodeIfPresent(Swift.Int.self, forKey: .durationInSeconds)
        durationInSeconds = durationInSecondsDecoded
        let contextsContainer = try containerValues.decodeIfPresent([CodeBuildClientTypes.PhaseContext?].self, forKey: .contexts)
        var contextsDecoded0:[CodeBuildClientTypes.PhaseContext]? = nil
        if let contextsContainer = contextsContainer {
            contextsDecoded0 = [CodeBuildClientTypes.PhaseContext]()
            for structure0 in contextsContainer {
                if let structure0 = structure0 {
                    contextsDecoded0?.append(structure0)
                }
            }
        }
        contexts = contextsDecoded0
    }
}
