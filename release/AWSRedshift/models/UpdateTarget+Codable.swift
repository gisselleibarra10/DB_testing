// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension RedshiftClientTypes.UpdateTarget: Swift.Codable {
    enum CodingKeys: Swift.String, Swift.CodingKey {
        case databaseVersion = "DatabaseVersion"
        case maintenanceTrackName = "MaintenanceTrackName"
        case supportedOperations = "SupportedOperations"
    }

    public func encode(to encoder: Swift.Encoder) throws {
        var container = encoder.container(keyedBy: ClientRuntime.Key.self)
        if let databaseVersion = databaseVersion {
            try container.encode(databaseVersion, forKey: ClientRuntime.Key("DatabaseVersion"))
        }
        if let maintenanceTrackName = maintenanceTrackName {
            try container.encode(maintenanceTrackName, forKey: ClientRuntime.Key("MaintenanceTrackName"))
        }
        if let supportedOperations = supportedOperations {
            var supportedOperationsContainer = container.nestedContainer(keyedBy: ClientRuntime.Key.self, forKey: ClientRuntime.Key("SupportedOperations"))
            for (index0, supportedoperation0) in supportedOperations.enumerated() {
                try supportedOperationsContainer.encode(supportedoperation0, forKey: ClientRuntime.Key("SupportedOperation.\(index0.advanced(by: 1))"))
            }
        }
    }

    public init (from decoder: Swift.Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let maintenanceTrackNameDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .maintenanceTrackName)
        maintenanceTrackName = maintenanceTrackNameDecoded
        let databaseVersionDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .databaseVersion)
        databaseVersion = databaseVersionDecoded
        if containerValues.contains(.supportedOperations) {
            struct KeyVal0{struct SupportedOperation{}}
            let supportedOperationsWrappedContainer = containerValues.nestedContainerNonThrowable(keyedBy: CollectionMemberCodingKey<KeyVal0.SupportedOperation>.CodingKeys.self, forKey: .supportedOperations)
            if let supportedOperationsWrappedContainer = supportedOperationsWrappedContainer {
                let supportedOperationsContainer = try supportedOperationsWrappedContainer.decodeIfPresent([RedshiftClientTypes.SupportedOperation].self, forKey: .member)
                var supportedOperationsBuffer:[RedshiftClientTypes.SupportedOperation]? = nil
                if let supportedOperationsContainer = supportedOperationsContainer {
                    supportedOperationsBuffer = [RedshiftClientTypes.SupportedOperation]()
                    for structureContainer0 in supportedOperationsContainer {
                        supportedOperationsBuffer?.append(structureContainer0)
                    }
                }
                supportedOperations = supportedOperationsBuffer
            } else {
                supportedOperations = []
            }
        } else {
            supportedOperations = nil
        }
    }
}
