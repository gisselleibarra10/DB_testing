// Code generated by smithy-swift-codegen. DO NOT EDIT!

import ClientRuntime

extension EcsClientTypes.ContainerInstance: Swift.Codable {
    enum CodingKeys: Swift.String, Swift.CodingKey {
        case agentConnected
        case agentUpdateStatus
        case attachments
        case attributes
        case capacityProviderName
        case containerInstanceArn
        case ec2InstanceId
        case healthStatus
        case pendingTasksCount
        case registeredAt
        case registeredResources
        case remainingResources
        case runningTasksCount
        case status
        case statusReason
        case tags
        case version
        case versionInfo
    }

    public func encode(to encoder: Swift.Encoder) throws {
        var encodeContainer = encoder.container(keyedBy: CodingKeys.self)
        if agentConnected != false {
            try encodeContainer.encode(agentConnected, forKey: .agentConnected)
        }
        if let agentUpdateStatus = self.agentUpdateStatus {
            try encodeContainer.encode(agentUpdateStatus.rawValue, forKey: .agentUpdateStatus)
        }
        if let attachments = attachments {
            var attachmentsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .attachments)
            for attachments0 in attachments {
                try attachmentsContainer.encode(attachments0)
            }
        }
        if let attributes = attributes {
            var attributesContainer = encodeContainer.nestedUnkeyedContainer(forKey: .attributes)
            for attributes0 in attributes {
                try attributesContainer.encode(attributes0)
            }
        }
        if let capacityProviderName = self.capacityProviderName {
            try encodeContainer.encode(capacityProviderName, forKey: .capacityProviderName)
        }
        if let containerInstanceArn = self.containerInstanceArn {
            try encodeContainer.encode(containerInstanceArn, forKey: .containerInstanceArn)
        }
        if let ec2InstanceId = self.ec2InstanceId {
            try encodeContainer.encode(ec2InstanceId, forKey: .ec2InstanceId)
        }
        if let healthStatus = self.healthStatus {
            try encodeContainer.encode(healthStatus, forKey: .healthStatus)
        }
        if pendingTasksCount != 0 {
            try encodeContainer.encode(pendingTasksCount, forKey: .pendingTasksCount)
        }
        if let registeredAt = self.registeredAt {
            try encodeContainer.encode(registeredAt.timeIntervalSince1970, forKey: .registeredAt)
        }
        if let registeredResources = registeredResources {
            var registeredResourcesContainer = encodeContainer.nestedUnkeyedContainer(forKey: .registeredResources)
            for resources0 in registeredResources {
                try registeredResourcesContainer.encode(resources0)
            }
        }
        if let remainingResources = remainingResources {
            var remainingResourcesContainer = encodeContainer.nestedUnkeyedContainer(forKey: .remainingResources)
            for resources0 in remainingResources {
                try remainingResourcesContainer.encode(resources0)
            }
        }
        if runningTasksCount != 0 {
            try encodeContainer.encode(runningTasksCount, forKey: .runningTasksCount)
        }
        if let status = self.status {
            try encodeContainer.encode(status, forKey: .status)
        }
        if let statusReason = self.statusReason {
            try encodeContainer.encode(statusReason, forKey: .statusReason)
        }
        if let tags = tags {
            var tagsContainer = encodeContainer.nestedUnkeyedContainer(forKey: .tags)
            for tags0 in tags {
                try tagsContainer.encode(tags0)
            }
        }
        if version != 0 {
            try encodeContainer.encode(version, forKey: .version)
        }
        if let versionInfo = self.versionInfo {
            try encodeContainer.encode(versionInfo, forKey: .versionInfo)
        }
    }

    public init (from decoder: Swift.Decoder) throws {
        let containerValues = try decoder.container(keyedBy: CodingKeys.self)
        let containerInstanceArnDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .containerInstanceArn)
        containerInstanceArn = containerInstanceArnDecoded
        let ec2InstanceIdDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .ec2InstanceId)
        ec2InstanceId = ec2InstanceIdDecoded
        let capacityProviderNameDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .capacityProviderName)
        capacityProviderName = capacityProviderNameDecoded
        let versionDecoded = try containerValues.decodeIfPresent(Swift.Int.self, forKey: .version) ?? 0
        version = versionDecoded
        let versionInfoDecoded = try containerValues.decodeIfPresent(EcsClientTypes.VersionInfo.self, forKey: .versionInfo)
        versionInfo = versionInfoDecoded
        let remainingResourcesContainer = try containerValues.decodeIfPresent([EcsClientTypes.Resource?].self, forKey: .remainingResources)
        var remainingResourcesDecoded0:[EcsClientTypes.Resource]? = nil
        if let remainingResourcesContainer = remainingResourcesContainer {
            remainingResourcesDecoded0 = [EcsClientTypes.Resource]()
            for structure0 in remainingResourcesContainer {
                if let structure0 = structure0 {
                    remainingResourcesDecoded0?.append(structure0)
                }
            }
        }
        remainingResources = remainingResourcesDecoded0
        let registeredResourcesContainer = try containerValues.decodeIfPresent([EcsClientTypes.Resource?].self, forKey: .registeredResources)
        var registeredResourcesDecoded0:[EcsClientTypes.Resource]? = nil
        if let registeredResourcesContainer = registeredResourcesContainer {
            registeredResourcesDecoded0 = [EcsClientTypes.Resource]()
            for structure0 in registeredResourcesContainer {
                if let structure0 = structure0 {
                    registeredResourcesDecoded0?.append(structure0)
                }
            }
        }
        registeredResources = registeredResourcesDecoded0
        let statusDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .status)
        status = statusDecoded
        let statusReasonDecoded = try containerValues.decodeIfPresent(Swift.String.self, forKey: .statusReason)
        statusReason = statusReasonDecoded
        let agentConnectedDecoded = try containerValues.decodeIfPresent(Swift.Bool.self, forKey: .agentConnected) ?? false
        agentConnected = agentConnectedDecoded
        let runningTasksCountDecoded = try containerValues.decodeIfPresent(Swift.Int.self, forKey: .runningTasksCount) ?? 0
        runningTasksCount = runningTasksCountDecoded
        let pendingTasksCountDecoded = try containerValues.decodeIfPresent(Swift.Int.self, forKey: .pendingTasksCount) ?? 0
        pendingTasksCount = pendingTasksCountDecoded
        let agentUpdateStatusDecoded = try containerValues.decodeIfPresent(EcsClientTypes.AgentUpdateStatus.self, forKey: .agentUpdateStatus)
        agentUpdateStatus = agentUpdateStatusDecoded
        let attributesContainer = try containerValues.decodeIfPresent([EcsClientTypes.Attribute?].self, forKey: .attributes)
        var attributesDecoded0:[EcsClientTypes.Attribute]? = nil
        if let attributesContainer = attributesContainer {
            attributesDecoded0 = [EcsClientTypes.Attribute]()
            for structure0 in attributesContainer {
                if let structure0 = structure0 {
                    attributesDecoded0?.append(structure0)
                }
            }
        }
        attributes = attributesDecoded0
        let registeredAtDecoded = try containerValues.decodeIfPresent(ClientRuntime.Date.self, forKey: .registeredAt)
        registeredAt = registeredAtDecoded
        let attachmentsContainer = try containerValues.decodeIfPresent([EcsClientTypes.Attachment?].self, forKey: .attachments)
        var attachmentsDecoded0:[EcsClientTypes.Attachment]? = nil
        if let attachmentsContainer = attachmentsContainer {
            attachmentsDecoded0 = [EcsClientTypes.Attachment]()
            for structure0 in attachmentsContainer {
                if let structure0 = structure0 {
                    attachmentsDecoded0?.append(structure0)
                }
            }
        }
        attachments = attachmentsDecoded0
        let tagsContainer = try containerValues.decodeIfPresent([EcsClientTypes.Tag?].self, forKey: .tags)
        var tagsDecoded0:[EcsClientTypes.Tag]? = nil
        if let tagsContainer = tagsContainer {
            tagsDecoded0 = [EcsClientTypes.Tag]()
            for structure0 in tagsContainer {
                if let structure0 = structure0 {
                    tagsDecoded0?.append(structure0)
                }
            }
        }
        tags = tagsDecoded0
        let healthStatusDecoded = try containerValues.decodeIfPresent(EcsClientTypes.ContainerInstanceHealthStatus.self, forKey: .healthStatus)
        healthStatus = healthStatusDecoded
    }
}
