// Code generated by smithy-swift-codegen. DO NOT EDIT!

@testable import aws_restjson
import ClientRuntime
import SmithyTestUtil
import XCTest


class HttpPrefixHeadersResponseTest: HttpResponseTestBase {
    /// Adds headers by prefix
    func testRestJsonHttpPrefixHeadersArePresent() async throws {
        guard let httpResponse = buildHttpResponse(
            code: 200,
            headers: [
                "X-Foo": "Foo",
                "X-Foo-Abc": "Abc value",
                "X-Foo-Def": "Def value"
            ],
            content: HttpBody.empty
        ) else {
            XCTFail("Something is wrong with the created http response")
            return
        }

        let actual = try HttpPrefixHeadersOutputResponse(httpResponse: httpResponse)

        let expected = HttpPrefixHeadersOutputResponse(
            foo: "Foo",
            fooMap: [
                "Abc": "Abc value",
                "Def": "Def value"]

        )

        XCTAssertEqual(expected.foo, actual.foo)
        XCTAssertEqual(expected.fooMap, actual.fooMap)

    }
}
