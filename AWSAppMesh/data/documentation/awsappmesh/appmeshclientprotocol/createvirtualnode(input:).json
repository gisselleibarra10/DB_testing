{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"createVirtualNode"},{"kind":"text","text":"("},{"kind":"externalParam","text":"input"},{"kind":"text","text":": "},{"kind":"typeIdentifier","identifier":"doc:\/\/AWSAppMesh\/documentation\/AWSAppMesh\/CreateVirtualNodeInput","preciseIdentifier":"s:10AWSAppMesh22CreateVirtualNodeInputV","text":"CreateVirtualNodeInput"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","identifier":"doc:\/\/AWSAppMesh\/documentation\/AWSAppMesh\/CreateVirtualNodeOutputResponse","preciseIdentifier":"s:10AWSAppMesh31CreateVirtualNodeOutputResponseV","text":"CreateVirtualNodeOutputResponse"}],"languages":["swift"],"platforms":["macOS"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/awsappmesh\/appmeshclientprotocol\/createvirtualnode(input:)"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/AWSAppMesh\/documentation\/AWSAppMesh\/AppMeshClientProtocol\/createVirtualNode(input:)","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Creates a virtual node within a service mesh. A virtual node acts as a logical pointer to a particular task group, such as an Amazon ECS service or a Kubernetes deployment. When you create a virtual node, you can specify the service discovery information for your task group, and whether the proxy running in a task group will communicate with other proxies using Transport Layer Security (TLS). You define a listener for any inbound traffic that your virtual node expects. Any virtual service that your virtual node expects to communicate to is specified as a backend. The response metadata for your new virtual node contains the arn that is associated with the virtual node. Set this value to the full ARN; for example, arn:aws:appmesh:us-west-2:123456789012:myMesh\/default\/virtualNode\/myApp) as the APPMESH_RESOURCE_ARN environment variable for your task group’s Envoy proxy container in your task definition or pod spec. This is then mapped to the node.id and node.cluster Envoy parameters. By default, App Mesh uses the name of the resource you specified in APPMESH_RESOURCE_ARN when Envoy is referring to itself in metrics and traces. You can override this behavior by setting the APPMESH_RESOURCE_CLUSTER environment variable with your own name. For more information about virtual nodes, see "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.aws.amazon.com\/app-mesh\/latest\/userguide\/virtual_nodes.html"},{"type":"text","text":". You must be using 1.15.0 or later of the Envoy image when setting these variables. For more information aboutApp Mesh Envoy variables, see "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.aws.amazon.com\/app-mesh\/latest\/userguide\/envoy.html"},{"type":"text","text":" in the App Mesh User Guide."}],"kind":"symbol","metadata":{"role":"symbol","title":"createVirtualNode(input:)","roleHeading":"Instance Method","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"createVirtualNode"},{"kind":"text","text":"("},{"kind":"externalParam","text":"input"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CreateVirtualNodeInput","preciseIdentifier":"s:10AWSAppMesh22CreateVirtualNodeInputV"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"CreateVirtualNodeOutputResponse","preciseIdentifier":"s:10AWSAppMesh31CreateVirtualNodeOutputResponseV"}],"symbolKind":"method","externalID":"s:10AWSAppMesh03AppB14ClientProtocolP17createVirtualNode5inputAA06CreategH14OutputResponseVAA0jgH5InputV_tYaKF","required":true,"modules":[{"name":"AWSAppMesh"}]},"hierarchy":{"paths":[["doc:\/\/AWSAppMesh\/documentation\/AWSAppMesh","doc:\/\/AWSAppMesh\/documentation\/AWSAppMesh\/AppMeshClientProtocol"]]},"references":{"https://kubernetes.io/docs/concepts/services-networking/dns-pod-service/":{"title":"DNS for Services and Pods","titleInlineContent":[{"type":"text","text":"DNS for Services and Pods"}],"type":"link","identifier":"https:\/\/kubernetes.io\/docs\/concepts\/services-networking\/dns-pod-service\/","url":"https:\/\/kubernetes.io\/docs\/concepts\/services-networking\/dns-pod-service\/"},"doc://AWSAppMesh/documentation/AWSAppMesh":{"role":"collection","title":"AWSAppMesh","abstract":[],"identifier":"doc:\/\/AWSAppMesh\/documentation\/AWSAppMesh","kind":"symbol","type":"topic","url":"\/documentation\/awsappmesh"},"doc://AWSAppMesh/documentation/AWSAppMesh/AppMeshClientProtocol":{"role":"symbol","title":"AppMeshClientProtocol","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"AppMeshClientProtocol"}],"abstract":[{"type":"text","text":"App Mesh is a service mesh based on the Envoy proxy that makes it easy to monitor and control microservices. App Mesh standardizes how your microservices communicate, giving you end-to-end visibility and helping to ensure high availability for your applications. App Mesh gives you consistent visibility and network traffic controls for every microservice in an application. You can use App Mesh with Amazon Web Services Fargate, Amazon ECS, Amazon EKS, Kubernetes on Amazon Web Services, and Amazon EC2. App Mesh supports microservice applications that use service discovery naming for their components. For more information about service discovery on Amazon ECS, see "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.aws.amazon.com\/AmazonECS\/latest\/developerguide\/service-discovery.html"},{"type":"text","text":" in the Amazon Elastic Container Service Developer Guide. Kubernetes kube-dns and coredns are supported. For more information, see "},{"type":"reference","isActive":true,"identifier":"https:\/\/kubernetes.io\/docs\/concepts\/services-networking\/dns-pod-service\/"},{"type":"text","text":" in the Kubernetes documentation."}],"identifier":"doc:\/\/AWSAppMesh\/documentation\/AWSAppMesh\/AppMeshClientProtocol","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"AppMeshClientProtocol"}],"url":"\/documentation\/awsappmesh\/appmeshclientprotocol"},"doc://AWSAppMesh/documentation/AWSAppMesh/AppMeshClientProtocol/createVirtualNode(input:)":{"role":"symbol","title":"createVirtualNode(input:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"createVirtualNode"},{"kind":"text","text":"("},{"kind":"externalParam","text":"input"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CreateVirtualNodeInput","preciseIdentifier":"s:10AWSAppMesh22CreateVirtualNodeInputV"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","text":"CreateVirtualNodeOutputResponse","preciseIdentifier":"s:10AWSAppMesh31CreateVirtualNodeOutputResponseV"}],"abstract":[{"type":"text","text":"Creates a virtual node within a service mesh. A virtual node acts as a logical pointer to a particular task group, such as an Amazon ECS service or a Kubernetes deployment. When you create a virtual node, you can specify the service discovery information for your task group, and whether the proxy running in a task group will communicate with other proxies using Transport Layer Security (TLS). You define a listener for any inbound traffic that your virtual node expects. Any virtual service that your virtual node expects to communicate to is specified as a backend. The response metadata for your new virtual node contains the arn that is associated with the virtual node. Set this value to the full ARN; for example, arn:aws:appmesh:us-west-2:123456789012:myMesh\/default\/virtualNode\/myApp) as the APPMESH_RESOURCE_ARN environment variable for your task group’s Envoy proxy container in your task definition or pod spec. This is then mapped to the node.id and node.cluster Envoy parameters. By default, App Mesh uses the name of the resource you specified in APPMESH_RESOURCE_ARN when Envoy is referring to itself in metrics and traces. You can override this behavior by setting the APPMESH_RESOURCE_CLUSTER environment variable with your own name. For more information about virtual nodes, see "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.aws.amazon.com\/app-mesh\/latest\/userguide\/virtual_nodes.html"},{"type":"text","text":". You must be using 1.15.0 or later of the Envoy image when setting these variables. For more information aboutApp Mesh Envoy variables, see "},{"type":"reference","isActive":true,"identifier":"https:\/\/docs.aws.amazon.com\/app-mesh\/latest\/userguide\/envoy.html"},{"type":"text","text":" in the App Mesh User Guide."}],"identifier":"doc:\/\/AWSAppMesh\/documentation\/AWSAppMesh\/AppMeshClientProtocol\/createVirtualNode(input:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/awsappmesh\/appmeshclientprotocol\/createvirtualnode(input:)"},"doc://AWSAppMesh/documentation/AWSAppMesh/CreateVirtualNodeInput":{"role":"symbol","title":"CreateVirtualNodeInput","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CreateVirtualNodeInput"}],"abstract":[],"identifier":"doc:\/\/AWSAppMesh\/documentation\/AWSAppMesh\/CreateVirtualNodeInput","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"CreateVirtualNodeInput"}],"url":"\/documentation\/awsappmesh\/createvirtualnodeinput"},"https://docs.aws.amazon.com/app-mesh/latest/userguide/virtual_nodes.html":{"title":"Virtual nodes","titleInlineContent":[{"type":"text","text":"Virtual nodes"}],"type":"link","identifier":"https:\/\/docs.aws.amazon.com\/app-mesh\/latest\/userguide\/virtual_nodes.html","url":"https:\/\/docs.aws.amazon.com\/app-mesh\/latest\/userguide\/virtual_nodes.html"},"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service-discovery.html":{"title":"Service Discovery","titleInlineContent":[{"type":"text","text":"Service Discovery"}],"type":"link","identifier":"https:\/\/docs.aws.amazon.com\/AmazonECS\/latest\/developerguide\/service-discovery.html","url":"https:\/\/docs.aws.amazon.com\/AmazonECS\/latest\/developerguide\/service-discovery.html"},"https://docs.aws.amazon.com/app-mesh/latest/userguide/envoy.html":{"title":"Envoy image","titleInlineContent":[{"type":"text","text":"Envoy image"}],"type":"link","identifier":"https:\/\/docs.aws.amazon.com\/app-mesh\/latest\/userguide\/envoy.html","url":"https:\/\/docs.aws.amazon.com\/app-mesh\/latest\/userguide\/envoy.html"},"doc://AWSAppMesh/documentation/AWSAppMesh/CreateVirtualNodeOutputResponse":{"role":"symbol","title":"CreateVirtualNodeOutputResponse","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"CreateVirtualNodeOutputResponse"}],"abstract":[],"identifier":"doc:\/\/AWSAppMesh\/documentation\/AWSAppMesh\/CreateVirtualNodeOutputResponse","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"CreateVirtualNodeOutputResponse"}],"url":"\/documentation\/awsappmesh\/createvirtualnodeoutputresponse"}}}